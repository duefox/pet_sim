[gd_scene load_steps=15 format=3 uid="uid://3ia6qn373kw0"]

[ext_resource type="Script" uid="uid://oswiqnmdn3ch" path="res://scripts/GameSetup.gd" id="1_0wfyh"]
[ext_resource type="Texture2D" uid="uid://dsydxx25ntx36" path="res://assets/images/tank/fishTank1.png" id="2_0wfyh"]
[ext_resource type="Script" uid="uid://dokx14seu8btk" path="res://scripts/ui/FishTank.gd" id="2_o6xl0"]
[ext_resource type="Texture2D" uid="uid://4qsn7ar88663" path="res://assets/images/wall/Wall_01.png" id="2_tbgi4"]
[ext_resource type="Texture2D" uid="uid://cfac0ov46o7qx" path="res://assets/images/water/Water_63.png" id="3_jyhfs"]
[ext_resource type="Shader" uid="uid://c25wsf7t3on1f" path="res://shaders/water_wave.gdshader" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://b4n3jincbqwf0" path="res://scenes/food/food.tscn" id="3_tipki"]
[ext_resource type="Texture2D" uid="uid://d0tkwo2kqoupu" path="res://assets/ui/ui.png" id="6_tefeu"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jyhfs"]
shader = ExtResource("3_sugp2")
shader_parameter/wave_color = Color(0, 0.5, 1, 1)
shader_parameter/edge_color = Color(1, 1, 1, 1)
shader_parameter/wave_texture = ExtResource("3_jyhfs")
shader_parameter/wave_opacity = 0.5
shader_parameter/water_alpha = 0.6
shader_parameter/texture_blend = 0.2
shader_parameter/speed = 1.0
shader_parameter/wave_frequency = 1.0
shader_parameter/wave_offset = 0.06
shader_parameter/peak_amplitude = 0.01
shader_parameter/trough_amplitude = 0.01
shader_parameter/secondary_ripple_blend = 0.1
shader_parameter/tertiary_ripple_blend = 0.1
shader_parameter/edge_width = 0.02
shader_parameter/edge_pixel_size = 0.004
shader_parameter/bubble_color = Color(1, 1, 1, 1)
shader_parameter/bubble_count = 10
shader_parameter/bubble_opacity = 0.5
shader_parameter/bubble_speed_min = 1.0
shader_parameter/bubble_speed_max = 4.0
shader_parameter/bubble_radius_min = 0.004
shader_parameter/bubble_radius_max = 0.01
shader_parameter/bubble_spawn_x_min = 0.0
shader_parameter/bubble_spawn_x_max = 1.0
shader_parameter/bubble_spawn_y_min = 0.0
shader_parameter/bubble_spawn_y_max = 1.0
shader_parameter/bubble_pixel_size = 0.002

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tbgi4"]
size = Vector2(31.5, 565)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o6xl0"]
size = Vector2(42, 563)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tefeu"]
size = Vector2(980, 34)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tipki"]
size = Vector2(981, 52)

[sub_resource type="AtlasTexture" id="AtlasTexture_tefeu"]
atlas = ExtResource("6_tefeu")
region = Rect2(9, 301, 481, 157)

[node name="MainScene" type="Node2D"]
script = ExtResource("1_0wfyh")

[node name="GameEnvironment" type="Node" parent="."]

[node name="FishTank" type="Node2D" parent="."]
script = ExtResource("2_o6xl0")
food_scene = ExtResource("3_tipki")

[node name="WallBG" type="Sprite2D" parent="FishTank"]
position = Vector2(532, 301)
scale = Vector2(0.677315, 0.677315)
texture = ExtResource("2_tbgi4")
metadata/_edit_lock_ = true

[node name="FishArea" type="Node2D" parent="FishTank"]
position = Vector2(0, -1)

[node name="WaterRank" type="ColorRect" parent="FishTank"]
material = SubResource("ShaderMaterial_jyhfs")
offset_left = 116.0
offset_top = 119.0
offset_right = 1023.0
offset_bottom = 589.0
mouse_filter = 1

[node name="TankBG" type="Sprite2D" parent="FishTank"]
position = Vector2(574, 341)
scale = Vector2(0.509603, 0.44043)
texture = ExtResource("2_0wfyh")
metadata/_edit_lock_ = true

[node name="Walls" type="Node2D" parent="FishTank"]

[node name="WallLeft" type="StaticBody2D" parent="FishTank/Walls"]
collision_layer = 4
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="FishTank/Walls/WallLeft"]
position = Vector2(99.75, 340.5)
shape = SubResource("RectangleShape2D_tbgi4")
debug_color = Color(0.560784, 0.407843, 0.968627, 0.419608)

[node name="WallRight" type="StaticBody2D" parent="FishTank/Walls"]
position = Vector2(0, -1)
collision_layer = 4
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="FishTank/Walls/WallRight"]
position = Vector2(1043, 339.5)
shape = SubResource("RectangleShape2D_o6xl0")
debug_color = Color(0.560784, 0.407843, 0.968627, 0.419608)

[node name="WallBottom" type="StaticBody2D" parent="FishTank/Walls"]
collision_layer = 4
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="FishTank/Walls/WallBottom"]
position = Vector2(574, 604.5)
shape = SubResource("RectangleShape2D_tefeu")
debug_color = Color(0.560784, 0.407843, 0.968627, 0.419608)

[node name="WallTop" type="StaticBody2D" parent="FishTank/Walls"]
collision_layer = 4
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="FishTank/Walls/WallTop"]
position = Vector2(573.5, 122)
shape = SubResource("RectangleShape2D_tipki")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
metadata/_edit_lock_ = true

[node name="MarginContainer" type="MarginContainer" parent="UI/Control"]
layout_mode = 1
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="FPSLabel" type="Label" parent="UI/Control/MarginContainer"]
layout_mode = 2
text = "FPS:60"

[node name="PetAttributeBox" type="Control" parent="UI"]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="MarginContainer" type="MarginContainer" parent="UI/PetAttributeBox"]
layout_mode = 1
offset_right = 40.0
offset_bottom = 40.0

[node name="NinePatchRect" type="NinePatchRect" parent="UI/PetAttributeBox/MarginContainer"]
custom_minimum_size = Vector2(200, 300)
layout_mode = 2
texture = SubResource("AtlasTexture_tefeu")
patch_margin_left = 20
patch_margin_top = 20
patch_margin_right = 20
patch_margin_bottom = 20

[connection signal="gui_input" from="FishTank/WaterRank" to="FishTank" method="_on_water_rank_gui_input"]
